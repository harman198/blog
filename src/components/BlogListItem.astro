---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
interface Props {
    post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
---

<article class="mb-6 transition">
    <div
        class="relative md:h-64 bg-gray-400 dark:bg-slate-700 rounded shadow-lg mb-6"
    >
        {
            post.data.cover &&
                (post.slug ? (
                    <a href={"/blog/" + post.slug}>
                        <Image
                            src={post.data.cover}
                            class="w-full md:h-full rounded shadow-lg bg-gray-400 dark:bg-slate-700"
                            widths={[400, 900]}
                            width={400}
                            sizes="(max-width: 900px) 400px, 900px"
                            alt={post.data.title}
                            loading="lazy"
                            decoding="async"
                        />
                    </a>
                ) : (
                    <Image
                        src={post.data.cover}
                        class="w-full md:h-full rounded shadow-lg bg-gray-400 dark:bg-slate-700"
                        widths={[400, 900]}
                        width={400}
                        sizes="(max-width: 900px) 400px, 900px"
                        alt={post.data.title}
                        loading="lazy"
                        decoding="async"
                    />
                ))
        }
    </div>

    <h3
        class="text-xl sm:text-2xl font-bold leading-tight mb-2 font-heading dark:text-slate-300"
    >
        {
            "/blog/" + post.slug ? (
                <a
                    class="inline-block hover:text-primary dark:hover:text-blue-700 transition ease-in duration-200"
                    href={"/blog/" + post.slug}
                >
                    {post.data.title}
                </a>
            ) : (
                post.data.title
            )
        }
    </h3>

    <p class="text-muted dark:text-slate-400 text-lg">{post.data.excerpt}</p>
</article>
